<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm py-2">
  <div class="container-fluid px-lg-5">
    <!-- Brand -->
    <a class="navbar-brand me-4 d-flex align-items-center" routerLink="/">
      <span class="logo-text fst-italic">Fashnix</span>
    </a>

    <!-- Search Bar -->
    <form class="d-flex flex-grow-1 mx-lg-4 search-form" (ngSubmit)="onSearch()" role="search">
      <div class="input-group">
        <input class="form-control bg-light border-0 py-2 ps-3" type="search"
          placeholder="Search for products, brands and more" aria-label="Search" [(ngModel)]="searchQuery"
          name="searchQuery">
        <button class="btn btn-light bg-light border-0 text-primary" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </form>

    <!-- Content -->
    <div class="d-flex align-items-center gap-4">

      <!-- Login Dropdown -->
      <div class="dropdown" *ngIf="!user">
        <button class="btn btn-white bg-white text-primary fw-bold px-4 py-1 border login-btn dropdown-toggle-no-arrow"
          type="button" id="loginDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          Login
        </button>
        <ul class="dropdown-menu shadow border-0 mt-2" aria-labelledby="loginDropdown">
          <li class="px-3 py-2 border-bottom">
            <div class="d-flex justify-content-between align-items-center">
              <span class="small text-muted">New customer?</span>
              <a routerLink="/signup" class="text-primary fw-bold text-decoration-none small">Sign Up</a>
            </div>
          </li>
          <li><a class="dropdown-item py-2" routerLink="/login"><i class="bi bi-person me-2 text-primary"></i> My
              Profile</a></li>
          <li><a class="dropdown-item py-2" routerLink="/user"><i class="bi bi-box-seam me-2 text-primary"></i>
              Orders</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-heart me-2 text-primary"></i> Wishlist</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-gift me-2 text-primary"></i> Rewards</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-credit-card me-2 text-primary"></i> Gift Cards</a>
          </li>
        </ul>
      </div>

      <!-- User Logged In Dropdown -->
      <div class="dropdown" *ngIf="user">
        <button
          class="btn btn-primary text-white fw-bold px-3 py-1 dropdown-toggle-no-arrow d-flex align-items-center gap-2"
          type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-fill"></i> {{user.name}}
        </button>
        <ul class="dropdown-menu shadow border-0 mt-2" aria-labelledby="userDropdown">
          <li><a class="dropdown-item py-2" routerLink="/profile"><i class="bi bi-person me-2"></i> My Profile</a></li>
          <li><a class="dropdown-item py-2" routerLink="/user"><i class="bi bi-box-seam me-2"></i> Orders</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><button class="dropdown-item py-2 text-danger" (click)="logout()"><i
                class="bi bi-box-arrow-right me-2"></i> Logout</button></li>
        </ul>
      </div>

      <!-- More Dropdown -->
      <div class="dropdown d-none d-lg-block">
        <button class="btn btn-link text-decoration-none fw-bold text-dark dropdown-toggle p-0" type="button"
          id="moreDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          More
        </button>
        <ul class="dropdown-menu shadow border-0 mt-2" aria-labelledby="moreDropdown">
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-bell me-2 text-primary"></i> Notification
              Preferences</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-question-circle me-2 text-primary"></i> 24x7
              Customer Care</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-graph-up me-2 text-primary"></i> Advertise</a></li>
          <li><a class="dropdown-item py-2" href="#"><i class="bi bi-download me-2 text-primary"></i> Download App</a>
          </li>
        </ul>
      </div>

      <!-- Cart -->
      <a routerLink="/cart" class="text-decoration-none text-dark fw-bold d-flex align-items-center gap-2">
        <div class="position-relative">
          <i class="bi bi-cart3 fs-5"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            style="font-size: 0.6rem;">
            2
          </span>
        </div>
        <span>Cart</span>
      </a>

    </div>
  </div>
</nav>